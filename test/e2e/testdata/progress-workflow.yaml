apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  generateName: progress-
  labels:
    argo-e2e: "true"
spec:
  entrypoint: main
  templates:
    - name: main
      dag:
        tasks:
          - name: progress
            template: progress
    - name: progress
      container:
#        image: argoproj/argosay:v2
#        args:
#          - echo
#          - '#argo progress=50/100 message="my-message"'
        image: alpine:3.14
        command: ["/bin/sh", "-c"]
        args:
          - |
            for i in `seq 1 10`; do echo '#argo progress='"$(($i*10))"'/100 message="progress '"$i"'"'; sleep 10; done
